# elasticsearch实做

## elasticsearch安装

```aidl
livingbody@livingbody-PC:~$ sudo apt install elasticsearch
[sudo] livingbody 的密码：
正在读取软件包列表... 完成
正在分析软件包的依赖关系树       
正在读取状态信息... 完成       
将会同时安装下列软件：
  ant ant-optional antlr groovy ivy java-wrappers junit4 libantlr-java libapache-pom-java libasm-java libbsf-java
  libcommons-cli-java libcommons-logging-java libcommons-parent-java libelasticsearch1.7-java libgpars-groovy-java
  libhamcrest-java libhawtjni-runtime-java libhyperic-sigar-java libjansi-java libjansi-native-java libjcommander-java
  libjcsp-java libjline2-java libjna-java libjna-jni libjsr166y-java libjts-java liblog4j-extras1.2-java
  liblog4j1.2-java liblucene4.10-java libmultiverse-core-java libnetty-3.9-java libqdox-java libregexp-java
  libservlet3.1-java libspatial4j-0.4-java libxpp3-java libxstream-java
建议安装：
  ant-doc default-jdk | java-compiler | java-sdk javacc junit jython libactivation-java libbcel-java
  libcommons-net-java libmail-java libjaxp1.3-java libjdepend-java libjsch-java liboro-java libxalan2-java
  libxml-commons-resolver1.1-java libxz-java groovy-doc libjsch-agent-proxy-java libbcprov-java libbcpg-java ivy-doc
  default-jre | java2-runtime bsh rhino libavalon-framework-java libcommons-logging-java-doc libexcalibur-logkit-java
  libgpars-groovy-java-doc libjcommander-java-doc libjcsp-java-doc libjna-java-doc libjts-java-doc
  libgeronimo-jms-1.1-spec-java liblog4j-extras1.2-java-doc liblog4j1.2-java-doc libbcpkix-java libjboss-logging-java
  libnetty-tcnative-java libprotobuf-java libslf4j-java libqdox-java-doc libcglib-nodep-java libdom4j-java
  libjdom1-java libjdom2-java libjettison-java libjoda-time-java libkxml2-java libwoodstox-java libxom-java
下列【新】软件包将被安装：
  ant ant-optional antlr elasticsearch groovy ivy java-wrappers junit4 libantlr-java libapache-pom-java libasm-java
  libbsf-java libcommons-cli-java libcommons-logging-java libcommons-parent-java libelasticsearch1.7-java
  libgpars-groovy-java libhamcrest-java libhawtjni-runtime-java libhyperic-sigar-java libjansi-java
  libjansi-native-java libjcommander-java libjcsp-java libjline2-java libjna-java libjna-jni libjsr166y-java
  libjts-java liblog4j-extras1.2-java liblog4j1.2-java liblucene4.10-java libmultiverse-core-java libnetty-3.9-java
  libqdox-java libregexp-java libservlet3.1-java libspatial4j-0.4-java libxpp3-java libxstream-java
升级了 0 个软件包，新安装了 40 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。
需要下载 61.3 MB 的归档。
解压缩后会消耗 84.2 MB 的额外空间。
您希望继续执行吗？ [Y/n] y
获取:1 http://packages.deepin.com/deepin panda/main amd64 ant all 1.10.3-1 [2,069 kB]
获取:2 http://packages.deepin.com/deepin panda/main amd64 ant-optional all 1.10.3-1 [379 kB]
获取:3 http://packages.deepin.com/deepin panda/main amd64 libantlr-java all 2.7.7+dfsg-9.2 [459 kB]
获取:4 http://packages.deepin.com/deepin panda/main amd64 antlr all 2.7.7+dfsg-9.2 [13.9 kB]
获取:5 http://packages.deepin.com/deepin panda/main amd64 ivy all 2.4.0-3 [1,158 kB]
获取:6 http://packages.deepin.com/deepin panda/main amd64 libhamcrest-java all 1.3-7 [395 kB]
获取:7 http://packages.deepin.com/deepin panda/main amd64 junit4 all 4.12-7 [293 kB]
获取:8 http://packages.deepin.com/deepin panda/main amd64 libasm-java all 6.0-1 [755 kB]
获取:9 http://packages.deepin.com/deepin panda/main amd64 libapache-pom-java all 18-1 [4,676 B]
获取:10 http://packages.deepin.com/deepin panda/main amd64 libbsf-java all 1:2.4.0-5 [72.2 kB]
获取:11 http://packages.deepin.com/deepin panda/main amd64 libcommons-cli-java all 1.4-1 [55.2 kB]
获取:12 http://packages.deepin.com/deepin panda/main amd64 libcommons-parent-java all 43-1 [10.8 kB]
获取:13 http://packages.deepin.com/deepin panda/main amd64 libcommons-logging-java all 1.2-2 [62.2 kB]
获取:14 http://packages.deepin.com/deepin panda/main amd64 libhawtjni-runtime-java all 1.15-2 [29.6 kB]
获取:15 http://packages.deepin.com/deepin panda/main amd64 libjansi-native-java all 1.7-1 [21.7 kB]
获取:16 http://packages.deepin.com/deepin panda/main amd64 libjansi-java all 1.16-1 [42.6 kB]
获取:17 http://packages.deepin.com/deepin panda/main amd64 libjline2-java all 2.14.6-1 [151 kB]
获取:18 http://packages.deepin.com/deepin panda/main amd64 libqdox-java all 1.12.1-3 [172 kB]
获取:19 http://packages.deepin.com/deepin panda/main amd64 libservlet3.1-java all 8.5.30-1 [393 kB]
获取:20 http://packages.deepin.com/deepin panda/main amd64 libxpp3-java all 1.1.4c-3 [292 kB]
获取:21 http://packages.deepin.com/deepin panda/main amd64 libxstream-java all 1.4.10-1 [536 kB]
获取:22 http://packages.deepin.com/deepin panda/main amd64 groovy all 2.4.15-1 [14.7 MB]                                                                                                                            
获取:23 http://packages.deepin.com/deepin panda/main amd64 libhyperic-sigar-java amd64 1.6.4+dfsg-2.1 [390 kB]                                                                                                      
获取:24 http://packages.deepin.com/deepin panda/main amd64 libjna-jni amd64 4.5.1-2 [53.6 kB]                                                                                                                       
获取:25 http://packages.deepin.com/deepin panda/main amd64 libjna-java all 4.5.1-2 [185 kB]                                                                                                                         
获取:26 http://packages.deepin.com/deepin panda/main amd64 libjts-java all 1.14+ds-2 [720 kB]                                                                                                                       
获取:27 http://packages.deepin.com/deepin panda/main amd64 liblog4j1.2-java all 1.2.17-8 [430 kB]                                                                                                                   
获取:28 http://packages.deepin.com/deepin panda/main amd64 liblog4j-extras1.2-java all 1.2.17-2 [411 kB]                                                                                                            
获取:29 http://packages.deepin.com/deepin panda/main amd64 libregexp-java all 1.5-4 [37.1 kB]                                                                                                                       
获取:30 http://packages.deepin.com/deepin panda/main amd64 liblucene4.10-java all 4.10.4+dfsg-3 [21.2 MB]                                                                                                           
获取:31 http://packages.deepin.com/deepin panda/main amd64 libspatial4j-0.4-java all 0.4.1-4 [99.0 kB]                                                                                                              
获取:32 http://packages.deepin.com/deepin panda/main amd64 libelasticsearch1.7-java all 1.7.5-1 [12.1 MB]                                                                                                           
获取:33 http://packages.deepin.com/deepin panda/main amd64 java-wrappers all 0.3 [10.9 kB]                                                                                                                          
获取:34 http://packages.deepin.com/deepin panda/main amd64 elasticsearch all 1.7.5-1 [19.1 kB]                                                                                                                      
获取:35 http://packages.deepin.com/deepin panda/main amd64 libnetty-3.9-java all 3.9.9.Final-1 [1,149 kB]                                                                                                           
获取:36 http://packages.deepin.com/deepin panda/main amd64 libjsr166y-java all 1.7.0-2 [599 kB]                                                                                                                     
获取:37 http://packages.deepin.com/deepin panda/main amd64 libjcsp-java all 1.1-rc4-2 [410 kB]                                                                                                                      
获取:38 http://packages.deepin.com/deepin panda/main amd64 libmultiverse-core-java all 0.7.0-4 [219 kB]                                                                                                             
获取:39 http://packages.deepin.com/deepin panda/main amd64 libgpars-groovy-java all 1.2.1-7 [1,133 kB]                                                                                                              
获取:40 http://packages.deepin.com/deepin panda/main amd64 libjcommander-java all 1.71-1 [72.8 kB]                                                                                                                  
已下载 61.3 MB，耗时 32秒 (1,907 kB/s)                                                                                                                                                                              
正在从软件包中解出模板：100%
正在选中未选择的软件包 ant。
(正在读取数据库 ... 系统当前共安装有 199131 个文件和目录。)
正准备解包 .../00-ant_1.10.3-1_all.deb  ...
正在解包 ant (1.10.3-1) ...
正在选中未选择的软件包 ant-optional。
正准备解包 .../01-ant-optional_1.10.3-1_all.deb  ...
正在解包 ant-optional (1.10.3-1) ...
正在选中未选择的软件包 libantlr-java。
正准备解包 .../02-libantlr-java_2.7.7+dfsg-9.2_all.deb  ...
正在解包 libantlr-java (2.7.7+dfsg-9.2) ...
正在选中未选择的软件包 antlr。
正准备解包 .../03-antlr_2.7.7+dfsg-9.2_all.deb  ...
正在解包 antlr (2.7.7+dfsg-9.2) ...
正在选中未选择的软件包 ivy。
正准备解包 .../04-ivy_2.4.0-3_all.deb  ...
正在解包 ivy (2.4.0-3) ...
正在选中未选择的软件包 libhamcrest-java。
正准备解包 .../05-libhamcrest-java_1.3-7_all.deb  ...
正在解包 libhamcrest-java (1.3-7) ...
正在选中未选择的软件包 junit4。
正准备解包 .../06-junit4_4.12-7_all.deb  ...
正在解包 junit4 (4.12-7) ...
正在选中未选择的软件包 libasm-java。
正准备解包 .../07-libasm-java_6.0-1_all.deb  ...
正在解包 libasm-java (6.0-1) ...
正在选中未选择的软件包 libapache-pom-java。
正准备解包 .../08-libapache-pom-java_18-1_all.deb  ...
正在解包 libapache-pom-java (18-1) ...
正在选中未选择的软件包 libbsf-java。
正准备解包 .../09-libbsf-java_1%3a2.4.0-5_all.deb  ...
正在解包 libbsf-java (1:2.4.0-5) ...
正在选中未选择的软件包 libcommons-cli-java。
正准备解包 .../10-libcommons-cli-java_1.4-1_all.deb  ...
正在解包 libcommons-cli-java (1.4-1) ...
正在选中未选择的软件包 libcommons-parent-java。
正准备解包 .../11-libcommons-parent-java_43-1_all.deb  ...
正在解包 libcommons-parent-java (43-1) ...
正在选中未选择的软件包 libcommons-logging-java。
正准备解包 .../12-libcommons-logging-java_1.2-2_all.deb  ...
正在解包 libcommons-logging-java (1.2-2) ...
正在选中未选择的软件包 libhawtjni-runtime-java。
正准备解包 .../13-libhawtjni-runtime-java_1.15-2_all.deb  ...
正在解包 libhawtjni-runtime-java (1.15-2) ...
正在选中未选择的软件包 libjansi-native-java。
正准备解包 .../14-libjansi-native-java_1.7-1_all.deb  ...
正在解包 libjansi-native-java (1.7-1) ...
正在选中未选择的软件包 libjansi-java。
正准备解包 .../15-libjansi-java_1.16-1_all.deb  ...
正在解包 libjansi-java (1.16-1) ...
正在选中未选择的软件包 libjline2-java。
正准备解包 .../16-libjline2-java_2.14.6-1_all.deb  ...
正在解包 libjline2-java (2.14.6-1) ...
正在选中未选择的软件包 libqdox-java。
正准备解包 .../17-libqdox-java_1.12.1-3_all.deb  ...
正在解包 libqdox-java (1.12.1-3) ...
正在选中未选择的软件包 libservlet3.1-java。
正准备解包 .../18-libservlet3.1-java_8.5.30-1_all.deb  ...
正在解包 libservlet3.1-java (8.5.30-1) ...
正在选中未选择的软件包 libxpp3-java。
正准备解包 .../19-libxpp3-java_1.1.4c-3_all.deb  ...
正在解包 libxpp3-java (1.1.4c-3) ...
正在选中未选择的软件包 libxstream-java。
正准备解包 .../20-libxstream-java_1.4.10-1_all.deb  ...
正在解包 libxstream-java (1.4.10-1) ...
正在选中未选择的软件包 groovy。
正准备解包 .../21-groovy_2.4.15-1_all.deb  ...
正在解包 groovy (2.4.15-1) ...
正在选中未选择的软件包 libhyperic-sigar-java。
正准备解包 .../22-libhyperic-sigar-java_1.6.4+dfsg-2.1_amd64.deb  ...
正在解包 libhyperic-sigar-java (1.6.4+dfsg-2.1) ...
正在选中未选择的软件包 libjna-jni。
正准备解包 .../23-libjna-jni_4.5.1-2_amd64.deb  ...
正在解包 libjna-jni (4.5.1-2) ...
正在选中未选择的软件包 libjna-java。
正准备解包 .../24-libjna-java_4.5.1-2_all.deb  ...
正在解包 libjna-java (4.5.1-2) ...
正在选中未选择的软件包 libjts-java。
正准备解包 .../25-libjts-java_1.14+ds-2_all.deb  ...
正在解包 libjts-java (1.14+ds-2) ...
正在选中未选择的软件包 liblog4j1.2-java。
正准备解包 .../26-liblog4j1.2-java_1.2.17-8_all.deb  ...
正在解包 liblog4j1.2-java (1.2.17-8) ...
正在选中未选择的软件包 liblog4j-extras1.2-java。
正准备解包 .../27-liblog4j-extras1.2-java_1.2.17-2_all.deb  ...
正在解包 liblog4j-extras1.2-java (1.2.17-2) ...
正在选中未选择的软件包 libregexp-java。
正准备解包 .../28-libregexp-java_1.5-4_all.deb  ...
正在解包 libregexp-java (1.5-4) ...
正在选中未选择的软件包 liblucene4.10-java。
正准备解包 .../29-liblucene4.10-java_4.10.4+dfsg-3_all.deb  ...
正在解包 liblucene4.10-java (4.10.4+dfsg-3) ...
正在选中未选择的软件包 libspatial4j-0.4-java。
正准备解包 .../30-libspatial4j-0.4-java_0.4.1-4_all.deb  ...
正在解包 libspatial4j-0.4-java (0.4.1-4) ...
正在选中未选择的软件包 libelasticsearch1.7-java。
正准备解包 .../31-libelasticsearch1.7-java_1.7.5-1_all.deb  ...
正在解包 libelasticsearch1.7-java (1.7.5-1) ...
正在选中未选择的软件包 java-wrappers。
正准备解包 .../32-java-wrappers_0.3_all.deb  ...
正在解包 java-wrappers (0.3) ...
正在选中未选择的软件包 elasticsearch。
正准备解包 .../33-elasticsearch_1.7.5-1_all.deb  ...
警告：您指定的主目录 /var/lib/elasticsearch 不能够访问：No such file or directory
正在添加系统用户"elasticsearch" (UID 118)...
正在将新用户"elasticsearch" (UID 118)添加到组"elasticsearch"...
无法创建主目录"/var/lib/elasticsearch"
正在解包 elasticsearch (1.7.5-1) ...
正在选中未选择的软件包 libnetty-3.9-java。
正准备解包 .../34-libnetty-3.9-java_3.9.9.Final-1_all.deb  ...
正在解包 libnetty-3.9-java (3.9.9.Final-1) ...
正在选中未选择的软件包 libjsr166y-java。
正准备解包 .../35-libjsr166y-java_1.7.0-2_all.deb  ...
正在解包 libjsr166y-java (1.7.0-2) ...
正在选中未选择的软件包 libjcsp-java。
正准备解包 .../36-libjcsp-java_1.1-rc4-2_all.deb  ...
正在解包 libjcsp-java (1.1-rc4-2) ...
正在选中未选择的软件包 libmultiverse-core-java。
正准备解包 .../37-libmultiverse-core-java_0.7.0-4_all.deb  ...
正在解包 libmultiverse-core-java (0.7.0-4) ...
正在选中未选择的软件包 libgpars-groovy-java。
正准备解包 .../38-libgpars-groovy-java_1.2.1-7_all.deb  ...
正在解包 libgpars-groovy-java (1.2.1-7) ...
正在选中未选择的软件包 libjcommander-java。
正准备解包 .../39-libjcommander-java_1.71-1_all.deb  ...
正在解包 libjcommander-java (1.71-1) ...
正在设置 libantlr-java (2.7.7+dfsg-9.2) ...
正在设置 libnetty-3.9-java (3.9.9.Final-1) ...
正在设置 libhyperic-sigar-java (1.6.4+dfsg-2.1) ...
正在设置 libmultiverse-core-java (0.7.0-4) ...
正在设置 libhawtjni-runtime-java (1.15-2) ...
正在设置 libqdox-java (1.12.1-3) ...
正在设置 libjcsp-java (1.1-rc4-2) ...
正在设置 libjsr166y-java (1.7.0-2) ...
正在设置 antlr (2.7.7+dfsg-9.2) ...
正在设置 java-wrappers (0.3) ...
正在设置 libregexp-java (1.5-4) ...
正在设置 liblog4j1.2-java (1.2.17-8) ...
正在设置 libspatial4j-0.4-java (0.4.1-4) ...
正在设置 libservlet3.1-java (8.5.30-1) ...
正在设置 ant (1.10.3-1) ...
正在设置 libjcommander-java (1.71-1) ...
正在设置 libjansi-native-java (1.7-1) ...
正在设置 libjts-java (1.14+ds-2) ...
正在处理用于 systemd (238-5) 的触发器 ...
正在设置 libapache-pom-java (18-1) ...
正在设置 libasm-java (6.0-1) ...
正在处理用于 man-db (2.8.3-2) 的触发器 ...
正在设置 ivy (2.4.0-3) ...
正在设置 liblucene4.10-java (4.10.4+dfsg-3) ...
正在设置 libxpp3-java (1.1.4c-3) ...
正在设置 libjna-jni (4.5.1-2) ...
正在设置 libhamcrest-java (1.3-7) ...
正在设置 libcommons-cli-java (1.4-1) ...
正在设置 liblog4j-extras1.2-java (1.2.17-2) ...
正在设置 libjansi-java (1.16-1) ...
正在设置 ant-optional (1.10.3-1) ...
正在设置 libcommons-parent-java (43-1) ...
正在设置 libjna-java (4.5.1-2) ...
正在设置 libjline2-java (2.14.6-1) ...
正在设置 libbsf-java (1:2.4.0-5) ...
正在设置 junit4 (4.12-7) ...
正在设置 libxstream-java (1.4.10-1) ...
正在设置 libcommons-logging-java (1.2-2) ...
正在设置 groovy (2.4.15-1) ...
update-alternatives: 使用 /usr/share/groovy/bin/groovy 来在自动模式中提供 /usr/bin/groovy (groovy)
update-alternatives: 使用 /usr/share/groovy/bin/groovyc 来在自动模式中提供 /usr/bin/groovyc (groovyc)
update-alternatives: 使用 /usr/share/groovy/bin/grape 来在自动模式中提供 /usr/bin/grape (grape)
update-alternatives: 使用 /usr/share/groovy/bin/startGroovy 来在自动模式中提供 /usr/bin/startGroovy (startGroovy)
update-alternatives: 使用 /usr/share/groovy/bin/groovysh 来在自动模式中提供 /usr/bin/groovysh (groovysh)
update-alternatives: 使用 /usr/share/groovy/bin/java2groovy 来在自动模式中提供 /usr/bin/java2groovy (java2groovy)
update-alternatives: 使用 /usr/share/groovy/bin/groovyConsole 来在自动模式中提供 /usr/bin/groovyConsole (groovyConsole)
update-alternatives: 使用 /usr/share/groovy/bin/groovydoc 来在自动模式中提供 /usr/bin/groovydoc (groovydoc)
正在设置 libgpars-groovy-java (1.2.1-7) ...
正在设置 libelasticsearch1.7-java (1.7.5-1) ...
正在设置 elasticsearch (1.7.5-1) ...
正在处理用于 systemd (238-5) 的触发器 ...


```